(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function xe(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Ne={exports:{}},Be={html:{skipScheme:"html",lineBreakScheme:"html",whitespace:"collapse"}},Ce=/<\s*br(?:[\s/]*|\s[^>]*)>/gi,ve={unix:[/\n/g,`
`],dos:[/\r\n/g,`\r
`],mac:[/\r/g,"\r"],html:[Ce,"<br>"],xhtml:[Ce,"<br/>"]},Ee={"ansi-color":/\x1B\[[^m]*m/g,html:/<[^>]*>/g,bbcode:/\[[^]]*\]/g},Te={soft:1,hard:1},ze={collapse:1,default:1,line:1,all:1},ke={all:1,multi:1,none:1},Pe=/([sm])(\d+)/,Ve=/[-/\\^$*+?.()|[\]{}]/g;function ge(o){return o.replace(Ve,"\\$&")}var ne=Ne.exports=function(o,e,t){typeof o=="object"&&(o=(t=o).start,e=t.stop),typeof e=="object"&&(t=e,o=o||t.start,e=void 0),e||(e=o,o=0),t||(t={});var i,s,r,n,a,h,d,l,p,c,u,E,L,C,K,f,T,ce,de="soft",Q="default",_e=4,M="all",z="",je="";if(i=t.preset)for(i instanceof Array||(i=[i]),ce=0;ce<i.length;ce++){if(!(f=Be[i[ce]]))throw new TypeError('preset must be one of "'+Object.keys(Be).join('", "')+'"');f.mode&&(de=f.mode),f.whitespace&&(Q=f.whitespace),f.tabWidth!==void 0&&(_e=f.tabWidth),f.skip&&(s=f.skip),f.skipScheme&&(r=f.skipScheme),f.lineBreak&&(n=f.lineBreak),f.lineBreakScheme&&(a=f.lineBreakScheme),f.respectLineBreaks&&(M=f.respectLineBreaks),f.preservedLineIndent!==void 0&&(d=f.preservedLineIndent),f.wrapLineIndent!==void 0&&(l=f.wrapLineIndent),f.wrapLineIndentBase&&(p=f.wrapLineIndentBase)}if(t.mode){if(!Te[t.mode])throw new TypeError('mode must be one of "'+Object.keys(Te).join('", "')+'"');de=t.mode}if(t.whitespace){if(!ze[t.whitespace])throw new TypeError('whitespace must be one of "'+Object.keys(ze).join('", "')+'"');Q=t.whitespace}if(t.tabWidth!==void 0){if(!(parseInt(t.tabWidth,10)>=0))throw new TypeError("tabWidth must be a non-negative integer");_e=parseInt(t.tabWidth,10)}if(K=new Array(_e+1).join(" "),t.respectLineBreaks){if(!ke[t.respectLineBreaks]&&!Pe.test(t.respectLineBreaks))throw new TypeError('respectLineBreaks must be one of "'+Object.keys(ke).join('", "')+'", "m<num>", "s<num>"');M=t.respectLineBreaks}if(M==="multi")M="m",h=2;else if(!ke[M]){var Me=Pe.exec(M);M=Me[1],h=parseInt(Me[2],10)}if(t.preservedLineIndent!==void 0){if(!(parseInt(t.preservedLineIndent,10)>=0))throw new TypeError("preservedLineIndent must be a non-negative integer");d=parseInt(t.preservedLineIndent,10)}if(d>0&&(z=new Array(d+1).join(" ")),t.wrapLineIndent!==void 0){if(isNaN(parseInt(t.wrapLineIndent,10)))throw new TypeError("wrapLineIndent must be an integer");l=parseInt(t.wrapLineIndent,10)}if(t.wrapLineIndentBase&&(p=t.wrapLineIndentBase),p){if(l===void 0)throw new TypeError("wrapLineIndent must be specified when wrapLineIndentBase is specified");if(p instanceof RegExp)C=p;else{if(typeof p!="string")throw new TypeError("wrapLineIndentBase must be either a RegExp object or a string");C=new RegExp(ge(p))}}else if(l>0)je=new Array(l+1).join(" ");else if(l<0)throw new TypeError("wrapLineIndent must be non-negative when a base is not specified");if(t.skipScheme){if(!Ee[t.skipScheme])throw new TypeError('skipScheme must be one of "'+Object.keys(Ee).join('", "')+'"');r=t.skipScheme}if(t.skip&&(s=t.skip),s)if(s instanceof RegExp)(c=s).global||(T="g",c.ignoreCase&&(T+="i"),c.multiline&&(T+="m"),c=new RegExp(c.source,T));else{if(typeof s!="string")throw new TypeError("skip must be either a RegExp object or a string");c=new RegExp(ge(s),"g")}if(!c&&r&&(c=Ee[r]),t.lineBreakScheme){if(!ve[t.lineBreakScheme])throw new TypeError('lineBreakScheme must be one of "'+Object.keys(ve).join('", "')+'"');a=t.lineBreakScheme}if(t.lineBreak&&(n=t.lineBreak),a&&(f=ve[a])&&(u=f[0],E=f[1]),n){if(n instanceof Array&&(n.length===1?n=n[0]:n.length>=2&&(n[0]instanceof RegExp?(u=n[0],typeof n[1]=="string"&&(E=n[1])):n[1]instanceof RegExp?(u=n[1],typeof n[0]=="string"&&(E=n[0])):typeof n[0]=="string"&&typeof n[1]=="string"?(u=new RegExp(ge(n[0]),"g"),E=n[1]):n=n[0])),typeof n=="string")E=n,u||(u=new RegExp(ge(n),"g"));else if(n instanceof RegExp)u=n;else if(!(n instanceof Array))throw new TypeError("lineBreak must be a RegExp object, a string, or an array consisted of a RegExp object and a string")}u||(u=/\n/g,E=`
`),T="g",u.ignoreCase&&(T+="i"),u.multiline&&(T+="m"),L=new RegExp("\\s*(?:"+u.source+")(?:"+u.source+"|\\s)*",T),u.global||(u=new RegExp(u.source,T));var De=de==="hard"?/\b/:/(\S+\s+)/,R=new Array(o+1).join(" "),me=Q==="default"||Q==="collapse",Y=Q==="collapse",Z=Q==="line",P=Q==="all",He=/\t/g,Fe=/  +/g,Oe=/^\s+/,Ge=/\s+$/,Ke=/\S/,Qe=/\s/,re=e-o;return function($){var b;if($=$.toString().replace(He,K),!E){if(u.lastIndex=0,!(b=u.exec($)))throw new TypeError("Line break string for the output not specified");E=b[0]}var N,J,pe,ue,Re,A,m,ae,U,V=0;for(N=[],L.lastIndex=0,b=L.exec($);b;){if(N.push($.substring(V,b.index)),M!=="none"){for(pe=[],ue=0,u.lastIndex=0,J=u.exec(b[0]);J;)pe.push(b[0].substring(ue,J.index)),ue=J.index+J[0].length,J=u.exec(b[0]);pe.push(b[0].substring(ue)),N.push({type:"break",breaks:pe})}else Re=Y?" ":b[0].replace(u,""),N.push({type:"break",remaining:Re});V=b.index+b[0].length,b=L.exec($)}if(N.push($.substring(V)),c)for(U=[],A=0;A<N.length;A++){var X=N[A];if(typeof X!="string")U.push(X);else{for(V=0,c.lastIndex=0,b=c.exec(X);b;)U.push(X.substring(V,b.index)),U.push({type:"skip",value:b[0]}),V=b.index+b[0].length,b=c.exec(X);U.push(X.substring(V))}}else U=N;var oe=[];for(A=0;A<U.length;A++){var he=U[A];if(typeof he!="string")oe.push(he);else{Y&&(he=he.replace(Fe," "));var Se=he.split(De),be=[];for(m=0;m<Se.length;m++){var ye=Se[m];if(de==="hard")for(ae=0;ae<ye.length;ae+=re)be.push(ye.slice(ae,ae+re));else be.push(ye)}oe=oe.concat(be)}}var W,y=0,w=o+z.length,_=[R+z],le=0,v=!0,I=!0,S=je;function ee($e){var q,ie,O,j=_[y];if(P)w>e&&(le=le||e,O=j.length-(w-le),_[y]=j.substring(0,O)),le=0;else{for(q=j.length-1;q>=o&&j[q]===" ";)q--;for(;q>=o&&Qe.test(j[q]);)q--;++q!==j.length&&(_[y]=j.substring(0,q)),I&&v&&Z&&w>e&&(O=j.length-(w-e))<q&&(O=q)}if(I&&(I=!1,C&&(q=_[y].substring(o).search(C),S=q>=0&&q+l>0?new Array(q+l+1).join(" "):"")),O){for(;O+re<j.length;)P?(ie=j.substring(O,O+re),_.push(R+S+ie)):_.push(R+S),O+=re,y++;if(!$e)return ie=j.substring(O),S+ie;P?(ie=j.substring(O),_.push(R+S+ie)):_.push(R+S),y++}return""}for(A=0;A<oe.length;A++){var g=oe[A];if(g!=="")if(typeof g=="string"){for(var te;;){if(te=void 0,w+g.length>e&&w+(te=g.replace(Ge,"")).length>e&&te!==""&&w>o){if(W=ee(!1),_.push(R+S),y++,w=o+S.length,W){_[y]+=W,w+=W.length,v=!0;continue}!me&&(!Z||I&&v)||(g=g.replace(Oe,"")),v=!1}else v&&(me||Z&&(!I||!v)?(g=g.replace(Oe,""))!==""&&(v=!1):Ke.test(g)&&(v=!1));break}P&&te&&w+te.length>e&&(le=w+te.length),_[y]+=g,w+=g.length}else if(g.type==="break")if(M!=="none"){var k=g.breaks,D=k.length-1;if(M==="s"){for(m=0;m<D;m++)k[m+1].length<h?k[m+1]=Y?" ":k[m]+k[m+1]:(P&&(_[y]+=k[m],w+=k[m].length),ee(!0),_.push(R+z),y++,w=o+z.length,I=v=!0);(!v||P||Z&&I)&&((Y||!v&&k[D]==="")&&(k[D]=" "),_[y]+=k[D],w+=k[D].length)}else if(M==="m"&&D<h)(!v||P||Z&&I)&&(Y?g=" ":(g=k.join(""),v||g!==""||(g=" ")),_[y]+=g,w+=g.length);else if(me){for(ee(!0),m=0;m<D;m++)_.push(R+z),y++;w=o+z.length,I=v=!0}else for((P||I&&v)&&(_[y]+=k[0],w+=k[0].length),m=0;m<D;m++)ee(!0),_.push(R+z+k[m+1]),y++,w=o+z.length+k[m+1].length,I=v=!0}else(!v||P||Z&&I)&&(g=g.remaining,(Y||!v&&g==="")&&(g=" "),_[y]+=g,w+=g.length);else g.type==="skip"&&(w>e&&(W=ee(!1),_.push(R+S),y++,w=o+S.length,W&&(_[y]+=W,w+=W.length),v=!0),_[y]+=g.value)}return ee(!0),_.join(E)}};ne.soft=ne,ne.hard=function(){var o=[].slice.call(arguments),e=o.length-1;return typeof o[e]=="object"?o[e].mode="hard":o.push({mode:"hard"}),ne.apply(null,o)},ne.wrap=function(o){var e=[].slice.call(arguments);return e.shift(),ne.apply(null,e)(o)};var se=xe(Ne.exports),Ue=function(o,e){return Object.assign(document.createElement("canvas"),{width:o,height:e})},H=xe(new class{grayscale(o){for(let e=0;e<o.data.length;e+=4){const t=.299*o.data[e]+.587*o.data[e+1]+.114*o.data[e+2];o.data.fill(t,e,e+3)}return o}threshold(o,e){for(let t=0;t<o.data.length;t+=4){const i=.299*o.data[t]+.587*o.data[t+1]+.114*o.data[t+2]<e?0:255;o.data.fill(i,t,t+3)}return o}bayer(o,e){const t=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]];for(let i=0;i<o.data.length;i+=4){const s=.299*o.data[i]+.587*o.data[i+1]+.114*o.data[i+2],r=i/4%o.width,n=Math.floor(i/4/o.width),a=Math.floor((s+t[r%4][n%4])/2)<e?0:255;o.data.fill(a,i,i+3)}return o}floydsteinberg(o){const e=o.width,t=new Uint8ClampedArray(o.width*o.height);for(let i=0,s=0;s<o.data.length;i++,s+=4)t[i]=.299*o.data[s]+.587*o.data[s+1]+.114*o.data[s+2];for(let i=0,s=0;s<o.data.length;i++,s+=4){const r=t[i]<129?0:255,n=Math.floor((t[i]-r)/16);o.data.fill(r,s,s+3),t[i+1]+=7*n,t[i+e-1]+=3*n,t[i+e]+=5*n,t[i+e+1]+=1*n}return o}atkinson(o){const e=o.width,t=new Uint8ClampedArray(o.width*o.height);for(let i=0,s=0;s<o.data.length;i++,s+=4)t[i]=.299*o.data[s]+.587*o.data[s+1]+.114*o.data[s+2];for(let i=0,s=0;s<o.data.length;i++,s+=4){const r=t[i]<129?0:255,n=Math.floor((t[i]-r)/8);o.data.fill(r,s,s+3),t[i+1]+=n,t[i+2]+=n,t[i+e-1]+=n,t[i+e]+=n,t[i+e+1]+=n,t[i+2*e]+=n}return o}}),We=xe(new class{flatten(o,e){for(let t=0;t<o.data.length;t+=4){const i=o.data[t+3],s=255-i;o.data[t]=(i*o.data[t]+s*e[0])/255,o.data[t+1]=(i*o.data[t+1]+s*e[1])/255,o.data[t+2]=(i*o.data[t+2]+s*e[2])/255,o.data[t+3]=255}return o}});const x={cp437:{name:"USA, Standard Europe",languages:["en"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp720:{name:"Arabic",languages:["ar"],offset:128,chars:"éâàçêëèïîّْô¤ـûùءآأؤ£إئابةتثجحخدذرزسشص«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ضطظعغفµقكلمنهوىي≡ًٌٍَُِ≈°∙·√ⁿ²■ "},cp737:{name:"Greek",languages:["el"],offset:128,chars:"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρσςτυφχψ░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ωάέήϊίόύϋώΆΈΉΊΌΎΏ±≥≤ΪΫ÷≈°∙·√ⁿ²■ "},cp775:{name:"Baltic Rim",languages:["et","lt"],offset:128,chars:"ĆüéāäģåćłēŖŗīŹÄÅÉæÆōöĢ¢ŚśÖÜø£Ø×¤ĀĪóŻżź”¦©®¬½¼Ł«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀ÓßŌŃõÕµńĶķĻļņĒŅ’­±“¾¶§÷„°∙·¹³²■ "},cp850:{name:"Multilingual",languages:["en"],offset:128,chars:"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ "},cp851:{name:"Greek",languages:["el"],offset:128,chars:"ÇüéâäàΆçêëèïîΈÄΉΊ ΌôöΎûùΏÖÜά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ´­±υφχ§ψ¸°¨ωϋΰώ■ "},cp852:{name:"Latin 2",languages:["hu","pl","cz"],offset:128,chars:"ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ "},cp853:{name:"Turkish",languages:["tr"],offset:128,chars:"ÇüéâäàĉçêëèïîìÄĈÉċĊôöòûùİÖÜĝ£Ĝ×ĵáíóúñÑĞğĤĥ�½Ĵş«»░▒▓│┤ÁÂÀŞ╣║╗╝Żż┐└┴┬├─┼Ŝŝ╚╔╩╦╠═╬¤��ÊËÈıÍÎÏ┘┌█▄�Ì▀ÓßÔÒĠġµĦħÚÛÙŬŭ�´­�ℓŉ˘§÷¸°¨˙�³²■ "},cp855:{name:"Cyrillic",languages:["bg"],offset:128,chars:"ђЂѓЃёЁєЄѕЅіІїЇјЈљЉњЊћЋќЌўЎџЏюЮъЪаАбБцЦдДеЕфФгГ«»░▒▓│┤хХиИ╣║╗╝йЙ┐└┴┬├─┼кК╚╔╩╦╠═╬¤лЛмМнНоОп┘┌█▄Пя▀ЯрРсСтТуУжЖвВьЬ№­ыЫзЗшШэЭщЩчЧ§■ "},cp857:{name:"Turkish",languages:["tr"],offset:128,chars:"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜø£ØŞşáíóúñÑĞğ¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ºªÊËÈ�ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµ�×ÚÛÙìÿ¯´­±�¾¶§÷¸°¨·¹³²■ "},cp858:{name:"Euro",languages:["en"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈ€ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ "},cp860:{name:"Portuguese",languages:["pt"],offset:128,chars:"ÇüéâãàÁçêÊèÍÔìÃÂÉÀÈôõòÚùÌÕÜ¢£Ù₧ÓáíóúñÑªº¿Ò¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp861:{name:"Icelandic",languages:["is"],offset:128,chars:"ÇüéâäàåçêëèÐðÞÄÅÉæÆôöþûÝýÖÜø£Ø₧ƒáíóúÁÍÓÚ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp862:{name:"Hebrew",languages:["he"],offset:128,chars:"אבגדהוזחטיךכלםמןנסעףפץצקרשת¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp863:{name:"Canadian French",languages:["fr"],offset:128,chars:"ÇüéâÂà¶çêëèïî‗À§ÉÈÊôËÏûù¤ÔÜ¢£ÙÛƒ¦´óú¨¸³¯Î⌐¬½¼¾«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp864:{name:"Arabic",languages:["ar"],offset:0,chars:`\0\x07\b	
\v\f\r\x1B !"#$٪&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~°·∙√▒─│┼┤┬├┴┐┌└┘β∞φ±½¼≈«»ﻷﻸ��ﻻﻼ� ­ﺂ£¤ﺄ��ﺎﺏﺕﺙ،ﺝﺡﺥ٠١٢٣٤٥٦٧٨٩ﻑ؛ﺱﺵﺹ؟¢ﺀﺁﺃﺅﻊﺋﺍﺑﺓﺗﺛﺟﺣﺧﺩﺫﺭﺯﺳﺷﺻﺿﻁﻅﻋﻏ¦¬÷×ﻉـﻓﻗﻛﻟﻣﻧﻫﻭﻯﻳﺽﻌﻎﻍﻡﹽّﻥﻩﻬﻰﻲﻐﻕﻵﻶﻝﻙﻱ■�`},cp865:{name:"Nordic",languages:["sv","dk"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø₧ƒáíóúñÑªº¿⌐¬½¼¡«¤░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp866:{name:"Cyrillic 2",languages:["ru"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№¤■ "},cp869:{name:"Greek",languages:["el"],offset:128,chars:"������Ά�·¬¦‘’Έ―ΉΊΪΌ��ΎΫ©Ώ²³ά£έήίϊΐόύΑΒΓΔΕΖΗ½ΘΙ«»░▒▓│┤ΚΛΜΝ╣║╗╝ΞΟ┐└┴┬├─┼ΠΡ╚╔╩╦╠═╬ΣΤΥΦΧΨΩαβγ┘┌█▄δε▀ζηθικλμνξοπρσςτ΄­±υφχ§ψ΅°¨ωϋΰώ■ "},cp874:{name:"Thai",languages:["th"],offset:128,chars:"€����…�����������‘’“”•–—�������� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},cp1098:{name:"Farsi",languages:["fa"],offset:128,chars:"  ،؛؟ًآﺂاﺎءأﺄؤﺋبﺑﭖﭘتﺗثﺛجﺟﭺﭼ×حﺣخﺧدذرزﮊسﺳشﺷصﺻ«»░▒▓│┤ضﺿﻁﻃ╣║╗╝¤ﻅ┐└┴┬├─┼ﻇع╚╔╩╦╠═╬ ﻊﻋﻌغﻎﻏﻐفﻓ┘┌█▄قﻗ▀ﮎﻛﮒﮔلﻟمﻣنﻧوهﻫﻬﮤﯼ­ﯽﯾـ٠١٢٣٤٥٦٧٨٩■ "},cp1118:{name:"Lithuanian",languages:["lt"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀αβΓπΣσµτΦΘΩδ∞φε⋂≡±≥≤„“÷≈°∙˙√ⁿ²■ "},cp1119:{name:"Lithuanian",languages:["lt"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤ĄČĘĖ╣║╗╝ĮŠ┐└┴┬├─┼ŲŪ╚╔╩╦╠═╬Žąčęėįšųūž┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁё≥≤„“÷≈°∙·√ⁿ²■ "},cp1125:{name:"Ukrainian",languages:["uk"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёҐґЄєІіЇї·√№¤■ "},cp1162:{name:"Thai",languages:["th"],offset:128,chars:"€…‘’“”•–— กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����"},cp2001:{name:"Lithuanian KBL or 771",languages:["lt"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█ĄąČčрстуфхцчшщъыьэюяĘęĖėĮįŠšŲųŪūŽž■ "},cp3001:{name:"Estonian 1 or 1116",languages:["et"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤šŠÊËÈıÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµžŽÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ "},cp3002:{name:"Estonian 2",languages:["et"],offset:128,chars:" ¡¢£¤¥¦§¨©ª«¬­®‾°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏŠÑÒÓÔÕÖ×ØÙÚÛÜÝŽßàáâãäåæçèéêëìíîïšñòóôõö÷øùúûüýžÿ"},cp3011:{name:"Latvian 1",languages:["lv"],offset:128,chars:"ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤Ā╢ņ╕╣║╗╝╜╛┐└┴┬├─┼ā╟╚╔╩╦╠═╬╧Š╤čČ╘╒ģĪī┘┌█▄ūŪ▀αßΓπΣσµτΦΘΩδ∞φε∩ĒēĢķĶļĻžŽ∙·√Ņš■ "},cp3012:{name:"Latvian 2 (modified 866)",languages:["lv"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤Ā╢ņ╕╣║╗╝Ō╛┐└┴┬├─┼ā╟╚╔╩╦╠═╬╧Š╤čČ╘╒ģĪī┘┌█▄ūŪ▀рстуфхцчшщъыьэюяĒēĢķĶļĻžŽō·√Ņš■ "},cp3021:{name:"Bulgarian (MIK)",languages:["bg"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя└┴┬├─┼╣║╚╔╩╦╠═╬┐░▒▓│┤№§╗╝┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3041:{name:"Maltese ISO 646",languages:["mt"],offset:0,chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZġżħ^_ċabcdefghijklmnopqrstuvwxyzĠŻĦĊ`},cp3840:{name:"Russian (modified 866)",languages:["ru"],offset:128,chars:"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюя≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3841:{name:"Ghost",languages:["ru"],offset:128,chars:`ғәёіїјҝөўүӽӈҹҷє£ҒӘЁІЇЈҜӨЎҮӼӇҸҶЄЪ !"#$%&'()*+,-./0123456789:;<=>?юабцдефгхийклмнопярстужвьызшэщчъЮАБЦДЕФГХИЙКЛМНОПЯРСТУЖВЬЫЗШЭЩЧ∅`},cp3843:{name:"Polish (Mazovia)",languages:["pl"],offset:128,chars:"ÇüéâäàąçêëèïîćÄĄĘęłôöĆûùŚÖÜ¢Ł¥śƒŹŻóÓńŃźż¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3844:{name:"Czech (Kamenický)",languages:["cz"],offset:128,chars:"ČüéďäĎŤčěĚĹÍľĺÄÁÉžŽôöÓůÚýÖÜŠĽÝŘťáíóúňŇŮÔšřŕŔ¼§«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3845:{name:"Hungarian (CWI-2)",languages:["hu"],offset:128,chars:"ÇüéâäàåçêëèïîÍÄÁÉæÆőöÓűÚŰÖÜ¢£¥₧ƒáíóúñÑªŐ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3846:{name:"Turkish",languages:["tr"],offset:128,chars:"ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜ¢£¥ŞşáíóúñÑĞğ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "},cp3847:{name:"Brazil ABNT",languages:["pt"],offset:256,chars:""},cp3848:{name:"Brazil ABICOMP",languages:["pt"],offset:160,chars:" ÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖŒÙÚÛÜŸ¨£¦§°¡àáâãäçèéêëìíîïñòóôõöœùúûüÿßªº¿±"},iso88591:{name:"Latin 1",languages:["en"],offset:128,chars:" ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},iso88592:{name:"Latin 2",languages:["hu","pl","cz"],offset:128,chars:" Ą˘Ł¤ĽŚ§¨ŠŞŤŹ­ŽŻ°ą˛ł´ľśˇ¸šşťź˝žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙"},iso88597:{name:"Greek",languages:["el"],offset:128,chars:" ‘’£€₯¦§¨©ͺ«¬­�―°±²³΄΅Ά·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�"},iso885915:{name:"Latin 9",languages:["fr"],offset:128,chars:" ¡¢£€¥Š§š©ª«¬­®¯°±²³Žµ¶·ž¹º»ŒœŸ¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},rk1048:{name:"Kazakh",languages:["kk"],offset:128,chars:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊҚҺЏђ‘’“”•–—�™љ›њқһџ ҰұӘ¤Ө¦§Ё©Ғ«¬­®Ү°±Ііөµ¶·ё№ғ»әҢңүАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},windows1250:{name:"Latin 2",languages:["hu","pl","cz"],offset:128,chars:"€�‚�„…†‡�‰Š‹ŚŤŽŹ�‘’“”•–—�™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙"},windows1251:{name:"Cyrillic",languages:["ru"],offset:128,chars:"ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя"},windows1252:{name:"Latin",languages:["fr"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ"},windows1253:{name:"Greek",languages:["el"],offset:128,chars:"€�‚ƒ„…†‡�‰�‹�����‘’“”•–—�™�›���� ΅Ά£¤¥¦§¨©�«¬­®―°±²³΄µ¶·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�"},windows1254:{name:"Turkish",languages:["tr"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰Š‹Œ����‘’“”•–—˜™š›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ"},windows1255:{name:"Hebrew",languages:["he"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰�‹�����‘’“”•–—˜™�›���� ¡¢£₪¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾¿ְֱֲֳִֵֶַָֹֺֻּֽ־ֿ׀ׁׂ׃װױײ׳״�������אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�"},windows1256:{name:"Arabic",languages:["ar"],offset:128,chars:"€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے"},windows1257:{name:"Baltic Rim",languages:["et","lt"],offset:128,chars:"€�‚�„…†‡�‰�‹�¨ˇ¸�‘’“”•–—�™�›�¯˛� �¢£¤�¦§Ø©Ŗ«¬­®Æ°±²³´µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž˙"},windows1258:{name:"Vietnamese",languages:["vi"],offset:128,chars:"€�‚ƒ„…†‡ˆ‰�‹Œ����‘’“”•–—˜™�›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ"}},Ye={en:"The quick brown fox jumps over the lazy dog.",jp:"イロハニホヘト チリヌルヲ ワカヨタレソ ツネナラム",pt:"O próximo vôo à noite sobre o Atlântico, põe freqüentemente o único médico.",fr:"Les naïfs ægithales hâtifs pondant à Noël où il gèle sont sûrs d'être déçus en voyant leurs drôles d'œufs abîmés.",sv:"Flygande bäckasiner söka strax hwila på mjuka tuvor.",dk:"Quizdeltagerne spiste jordbær med fløde",el:"ξεσκεπάζω την ψυχοφθόρα βδελυγμία",tr:"Pijamalı hasta, yağız şoföre çabucak güvendi.",ru:"Съешь же ещё этих мягких французских булок да выпей чаю",hu:"Árvíztűrő tükörfúrógép",pl:"Pchnąć w tę łódź jeża lub ośm skrzyń fig",cz:"Mohu jíst sklo, neublíží mi.",ar:"أنا قادر على أكل الزجاج و هذا لا يؤلمني.",et:"Ma võin klaasi süüa, see ei tee mulle midagi.",lt:"Aš galiu valgyti stiklą ir jis manęs nežeidžia.",bg:"Мога да ям стъкло, то не ми вреди.",is:"Ég get etið gler án þess að meiða mig.",he:"אני יכול לאכול זכוכית וזה לא מזיק לי.",fa:".من می توانم بدونِ احساس درد شيشه بخورم",uk:"Я можу їсти скло, і воно мені не зашкодить.",vi:"Tôi có thể ăn thủy tinh mà không hại gì.",kk:"қазақша",lv:"Es varu ēst stiklu, tas man nekaitē.",mt:"Nista' niekol il-ħġieġ u ma jagħmilli xejn.",th:"ฉันกินกระจกได้ แต่มันไม่ทำให้ฉันเจ็บ"};class B{static getEncodings(){return Object.keys(x)}static getTestStrings(e){return x[e]!==void 0&&x[e].languages!==void 0?x[e].languages.map(t=>({language:t,string:Ye[t]})):[]}static supports(e){return x[e]!==void 0&&x[e].chars!==void 0}static encode(e,t){const i=new Uint8Array(e.length);let s="\0".repeat(128),r=128;x[t]!==void 0&&x[t].chars!==void 0&&(s=x[t].chars,r=x[t].offset);for(let n=0;n<e.length;n++){const a=e.codePointAt(n);if(a<128)i[n]=a;else{const h=s.indexOf(e[n]);h!==-1?i[n]=r+h:a<256&&(a<r||a>=r+s.length)?i[n]=a:i[n]=63}}return i}static autoEncode(e,t){const i=[];let s,r=-1;for(let n=0;n<e.length;n++){const a=e.codePointAt(n);let h,d=0;if(a<128&&(h=s||t[0],d=a),!h&&s){const l=x[s].chars.indexOf(e[n]);l!==-1&&(h=s,d=x[s].offset+l)}if(!h)for(let l=0;l<t.length;l++){const p=x[t[l]].chars.indexOf(e[n]);if(p!==-1){h=t[l],d=x[t[l]].offset+p;break}}h||(h=s||t[0],d=63),s!=h&&(s&&(i[r].bytes=new Uint8Array(i[r].bytes)),r++,i[r]={codepage:h,bytes:[]},s=h),i[r].bytes.push(d)}return s&&(i[r].bytes=new Uint8Array(i[r].bytes)),i}}const qe={epson:{cp437:0,shiftjis:1,cp850:2,cp860:3,cp863:4,cp865:5,cp851:11,cp853:12,cp857:13,cp737:14,iso88597:15,windows1252:16,cp866:17,cp852:18,cp858:19,cp720:32,cp775:33,cp855:34,cp861:35,cp862:36,cp864:37,cp869:38,iso88592:39,iso885915:40,cp1098:41,cp1118:42,cp1119:43,cp1125:44,windows1250:45,windows1251:46,windows1253:47,windows1254:48,windows1255:49,windows1256:50,windows1257:51,windows1258:52,rk1048:53},zjiang:{cp437:0,shiftjis:1,cp850:2,cp860:3,cp863:4,cp865:5,windows1252:16,cp866:17,cp852:18,cp858:19,windows1255:32,cp861:56,cp855:60,cp857:61,cp862:62,cp864:63,cp737:64,cp851:65,cp869:66,cp1119:68,cp1118:69,windows1250:72,windows1251:73,cp3840:74,cp3843:76,cp3844:77,cp3845:78,cp3846:79,cp3847:80,cp3848:81,cp2001:83,cp3001:84,cp3002:85,cp3011:86,cp3012:87,cp3021:88,cp3041:89,windows1253:90,windows1254:91,windows1256:92,cp720:93,windows1258:94,cp775:95},bixolon:{cp437:0,shiftjis:1,cp850:2,cp860:3,cp863:4,cp865:5,cp851:11,cp858:19},star:{cp437:0,shiftjis:1,cp850:2,cp860:3,cp863:4,cp865:5,windows1252:16,cp866:17,cp852:18,cp858:19},citizen:{cp437:0,shiftjis:1,cp850:2,cp860:3,cp863:4,cp865:5,cp852:18,cp866:17,cp857:8,windows1252:16,cp858:19,cp864:40},xprinter:{cp437:0,shiftjis:1,cp850:2,cp860:3,cp863:4,cp865:5,windows1252:16,cp866:17,cp852:18,cp858:19,windows1257:25,cp864:28,windows1255:32,windows1256:33,cp861:56,cp855:60,cp857:61,cp862:62,cp737:64,cp851:65,cp869:66,cp874:70,windows1250:72,windows1251:73,cp3840:74,cp3841:75,cp3843:76,cp3844:77,cp3845:78,cp3846:79,cp3847:80,cp3848:81,cp2001:83,cp3001:84,cp3002:85,cp3011:86,cp3012:87,cp3021:88,cp3041:89},legacy:{cp437:0,cp737:64,cp850:2,cp775:95,cp852:18,cp855:60,cp857:61,cp858:19,cp860:3,cp861:56,cp862:62,cp863:4,cp864:28,cp865:5,cp866:17,cp869:66,cp936:255,cp949:253,cp950:254,cp1252:16,iso88596:22,shiftjis:252,cp874:30,windows1250:72,windows1251:73,windows1252:71,windows1253:90,windows1254:91,windows1255:32,windows1256:92,windows1257:25,windows1258:94}};class fe{constructor(e){this._reset(e)}_reset(e){this._options=Object.assign({width:null,embedded:!1,wordWrap:!0,imageMode:"column",codepageMapping:"epson",codepageCandidates:["cp437","cp858","cp860","cp861","cp863","cp865","cp852","cp857","cp855","cp866","cp869"]},e),this._embedded=this._options.width&&this._options.embedded,this._buffer=[],this._queued=[],this._cursor=0,this._codepage="ascii",this._state={codepage:0,align:"left",bold:!1,italic:!1,underline:!1,invert:!1,width:1,height:1}}_encode(e){if(this._codepage!="auto")return B.encode(e,this._codepage);let t;t=typeof this._options.codepageMapping=="string"?qe[this._options.codepageMapping]:this._options.codepageMapping;const i=B.autoEncode(e,this._options.codepageCandidates);let s=0;for(let a=0;a<i.length;a++)s+=3+i[a].bytes.byteLength;const r=new Uint8Array(s);let n=0;for(let a=0;a<i.length;a++)r.set([27,116,t[i[a].codepage]],n),r.set(i[a].bytes,n+3),n+=3+i[a].bytes.byteLength,this._state.codepage=t[i[a].codepage];return r}_queue(e){e.forEach(t=>this._queued.push(t))}_flush(){if(this._embedded){let e=this._options.width-this._cursor;if(this._state.align=="left"&&this._queued.push(new Array(e).fill(32)),this._state.align=="center"){const t=e%2;e>>=1,e>0&&this._queued.push(new Array(e).fill(32)),e+t>0&&this._queued.unshift(new Array(e+t).fill(32))}this._state.align=="right"&&this._queued.unshift(new Array(e).fill(32))}this._buffer=this._buffer.concat(this._queued),this._queued=[],this._cursor=0}_wrap(e,t){if(t||this._options.wordWrap&&this._options.width){const i="-".repeat(this._cursor);return se(t||this._options.width,{lineBreak:`
`,whitespace:"all"})(i+e).substring(this._cursor).split(`
`)}return[e]}_restoreState(){this.bold(this._state.bold),this.italic(this._state.italic),this.underline(this._state.underline),this.invert(this._state.invert),this._queue([27,116,this._state.codepage])}_getCodepageIdentifier(e){let t;return t=typeof this._options.codepageMapping=="string"?qe[this._options.codepageMapping]:this._options.codepageMapping,t[e]}initialize(){return this._queue([27,64]),this._flush(),this}codepage(e){if(e==="auto")return this._codepage=e,this;if(!B.supports(e))throw new Error("Unknown codepage");let t;if(t=typeof this._options.codepageMapping=="string"?qe[this._options.codepageMapping]:this._options.codepageMapping,t[e]===void 0)throw new Error("Codepage not supported by printer");return this._codepage=e,this._state.codepage=t[e],this._queue([27,116,t[e]]),this}text(e,t){const i=this._wrap(e,t);for(let s=0;s<i.length;s++){const r=this._encode(i[s]);this._queue([r]),this._cursor+=i[s].length*this._state.width,this._options.width&&!this._embedded&&(this._cursor=this._cursor%this._options.width),s<i.length-1&&this.newline()}return this}newline(){return this._flush(),this._queue([10,13]),this._embedded&&this._restoreState(),this}line(e,t){return this.text(e,t),this.newline(),this}underline(e){return e===void 0&&(e=!this._state.underline),this._state.underline=e,this._queue([27,45,Number(e)]),this}italic(e){return e===void 0&&(e=!this._state.italic),this._state.italic=e,this._queue([27,52,Number(e)]),this}bold(e){return e===void 0&&(e=!this._state.bold),this._state.bold=e,this._queue([27,69,Number(e)]),this}width(e){if(e===void 0&&(e=1),typeof e!="number")throw new Error("Width must be a number");if(e<1||e>8)throw new Error("Width must be between 1 and 8");return this._state.width=e,this._queue([29,33,this._state.height-1|this._state.width-1<<4]),this}height(e){if(e===void 0&&(e=1),typeof e!="number")throw new Error("Height must be a number");if(e<1||e>8)throw new Error("Height must be between 1 and 8");return this._state.height=e,this._queue([29,33,this._state.height-1|this._state.width-1<<4]),this}invert(e){return e===void 0&&(e=!this._state.invert),this._state.invert=e,this._queue([29,66,Number(e)]),this}size(e){return e=e==="small"?1:0,this._queue([27,77,e]),this}align(e){const t={left:0,center:1,right:2};if(!(e in t))throw new Error("Unknown alignment");return this._state.align=e,this._embedded||this._queue([27,97,t[e]]),this}table(e,t){this._cursor!=0&&this.newline();for(let i=0;i<t.length;i++){const s=[];let r=0;for(let n=0;n<e.length;n++){const a=[];if(typeof t[i][n]=="string"){const h=se(e[n].width,{lineBreak:`
`})(t[i][n]).split(`
`);for(let d=0;d<h.length;d++)e[n].align=="right"?a[d]=this._encode(h[d].padStart(e[n].width)):a[d]=this._encode(h[d].padEnd(e[n].width))}if(typeof t[i][n]=="function"){const h=new fe(Object.assign({},this._options,{width:e[n].width,embedded:!0}));h._codepage=this._codepage,h.align(e[n].align),t[i][n](h);const d=h.encode();let l=[];for(let p=0;p<d.byteLength;p++)p<d.byteLength-1&&d[p]===10&&d[p+1]===13?(a.push(l),l=[],p++):l.push(d[p]);l.length&&a.push(l)}r=Math.max(r,a.length),s[n]=a}for(let n=0;n<e.length;n++)if(s[n].length<r)for(let a=s[n].length;a<r;a++){let h="top";e[n].verticalAlign!==void 0&&(h=e[n].verticalAlign),h=="bottom"?s[n].unshift(new Array(e[n].width).fill(32)):s[n].push(new Array(e[n].width).fill(32))}for(let n=0;n<r;n++){for(let a=0;a<e.length;a++)e[a].marginLeft!==void 0&&this.raw(new Array(e[a].marginLeft).fill(32)),this.raw(s[a][n]),e[a].marginRight!==void 0&&this.raw(new Array(e[a].marginRight).fill(32));this.newline()}}return this}rule(e){return e=Object.assign({style:"single",width:this._options.width||10},e||{}),this._queue([27,116,this._getCodepageIdentifier("cp437"),new Array(e.width).fill(e.style==="double"?205:196)]),this._queue([27,116,this._state.codepage]),this.newline(),this}box(e,t){let i;i=(e=Object.assign({style:"single",width:this._options.width||30,marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},e||{})).style=="double"?[201,187,200,188,205,186]:[218,191,192,217,196,179],this._cursor!=0&&this.newline(),this._restoreState(),this._queue([27,116,this._getCodepageIdentifier("cp437")]),this._queue([new Array(e.marginLeft).fill(32),i[0],new Array(e.width-2).fill(i[4]),i[1],new Array(e.marginRight).fill(32)]),this.newline();const s=[];if(typeof t=="string"){const r=se(e.width-2-e.paddingLeft-e.paddingRight,{lineBreak:`
`})(t).split(`
`);for(let n=0;n<r.length;n++)e.align=="right"?s[n]=this._encode(r[n].padStart(e.width-2-e.paddingLeft-e.paddingRight)):s[n]=this._encode(r[n].padEnd(e.width-2-e.paddingLeft-e.paddingRight))}if(typeof t=="function"){const r=new fe(Object.assign({},this._options,{width:e.width-2-e.paddingLeft-e.paddingRight,embedded:!0}));r._codepage=this._codepage,r.align(e.align),t(r);const n=r.encode();let a=[];for(let h=0;h<n.byteLength;h++)h<n.byteLength-1&&n[h]===10&&n[h+1]===13?(s.push(a),a=[],h++):a.push(n[h]);a.length&&s.push(a)}for(let r=0;r<s.length;r++)this._queue([new Array(e.marginLeft).fill(32),i[5],new Array(e.paddingLeft).fill(32)]),this._queue([s[r]]),this._restoreState(),this._queue([27,116,this._getCodepageIdentifier("cp437")]),this._queue([new Array(e.paddingRight).fill(32),i[5],new Array(e.marginRight).fill(32)]),this.newline();return this._queue([new Array(e.marginLeft).fill(32),i[2],new Array(e.width-2).fill(i[4]),i[3],new Array(e.marginRight).fill(32)]),this._restoreState(),this.newline(),this}barcode(e,t,i){if(this._embedded)throw new Error("Barcodes are not supported in table cells or boxes");const s={upca:0,upce:1,ean13:2,ean8:3,code39:4,coda39:4,itf:5,codabar:6,code93:72,code128:73,"gs1-128":80,"gs1-databar-omni":81,"gs1-databar-truncated":82,"gs1-databar-limited":83,"gs1-databar-expanded":84,"code128-auto":85};if(!(t in s))throw new Error("Symbology not supported by printer");{const r=B.encode(e,"ascii");this._cursor!=0&&this.newline(),this._queue([29,104,i,29,119,t==="code39"?2:3]),t=="code128"&&r[0]!==123?this._queue([29,107,s[t],r.length+2,123,66,r]):s[t]>64?this._queue([29,107,s[t],r.length,r]):this._queue([29,107,s[t],r,0])}return this._flush(),this}qrcode(e,t,i,s){if(this._embedded)throw new Error("QR codes are not supported in table cells or boxes");this._queue([10]);const r={1:49,2:50};if(t===void 0&&(t=2),!(t in r))throw new Error("Model must be 1 or 2");if(this._queue([29,40,107,4,0,49,65,r[t],0]),i===void 0&&(i=6),typeof i!="number")throw new Error("Size must be a number");if(i<1||i>8)throw new Error("Size must be between 1 and 8");this._queue([29,40,107,3,0,49,67,i]);const n={l:48,m:49,q:50,h:51};if(s===void 0&&(s="m"),!(s in n))throw new Error("Error level must be l, m, q or h");this._queue([29,40,107,3,0,49,69,n[s]]);const a=B.encode(e,"iso88591"),h=a.length+3;return this._queue([29,40,107,h%255,h/255,49,80,48,a]),this._queue([29,40,107,3,0,49,81,48]),this._flush(),this}image(e,t,i,s,r){if(this._embedded)throw new Error("Images are not supported in table cells or boxes");if(t%8!=0)throw new Error("Width must be a multiple of 8");if(i%8!=0)throw new Error("Height must be a multiple of 8");s===void 0&&(s="threshold"),r===void 0&&(r=128);const n=Ue(t,i).getContext("2d");n.drawImage(e,0,0,t,i);let a=n.getImageData(0,0,t,i);switch(a=We.flatten(a,[255,255,255]),s){case"threshold":a=H.threshold(a,r);break;case"bayer":a=H.bayer(a,r);break;case"floydsteinberg":a=H.floydsteinberg(a);break;case"atkinson":a=H.atkinson(a)}const h=(l,p)=>l<t&&p<i?a.data[4*(t*p+l)]>0?0:1:0,d=(l,p)=>{const c=new Uint8Array(l*p>>3);for(let u=0;u<p;u++)for(let E=0;E<l;E+=8)for(let L=0;L<8;L++)c[u*(l>>3)+(E>>3)]|=h(E+L,u)<<7-L;return c};return this._cursor!=0&&this.newline(),this._options.imageMode=="column"&&(this._queue([27,51,36]),((l,p)=>{const c=[];for(let u=0;u<Math.ceil(p/24);u++){const E=new Uint8Array(3*l);for(let L=0;L<l;L++)for(let C=0;C<3;C++)for(let K=0;K<8;K++)E[3*L+C]|=h(L,24*u+K+8*C)<<7-K;c.push(E)}return c})(t,i).forEach(l=>{this._queue([27,42,33,255&t,t>>8&255,l,10])}),this._queue([27,50])),this._options.imageMode=="raster"&&this._queue([29,118,48,0,t>>3&255,t>>3>>8&255,255&i,i>>8&255,d(t,i)]),this._flush(),this}cut(e){if(this._embedded)throw new Error("Cut is not supported in table cells or boxes");let t=0;return e=="partial"&&(t=1),this._queue([29,86,t]),this}pulse(e,t,i){if(this._embedded)throw new Error("Pulse is not supported in table cells or boxes");return e===void 0&&(e=0),t===void 0&&(t=100),i===void 0&&(i=500),t=Math.min(500,Math.round(t/2)),i=Math.min(500,Math.round(i/2)),this._queue([27,112,e?1:0,255&t,255&i]),this}raw(e){return this._queue(e),this}encode(){this._flush();let e=0;this._buffer.forEach(s=>{typeof s=="number"?e++:e+=s.length});const t=new Uint8Array(e);let i=0;return this._buffer.forEach(s=>{typeof s=="number"?(t[i]=s,i++):(t.set(s,i),i+=s.length)}),this._reset(),t}}const Le={star:{cp437:1,cp858:4,cp852:5,cp860:6,cp861:7,cp863:8,cp865:9,cp866:10,cp855:11,cp857:12,cp862:13,cp864:14,cp737:15,cp869:17,cp874:20,windows1252:32,windows1250:33,windows1251:34}};class we{constructor(e){this._reset(e)}_reset(e){this._options=Object.assign({width:null,embedded:!1,wordWrap:!0,codepageMapping:"star",codepageCandidates:["cp437","cp858","cp860","cp861","cp863","cp865","cp852","cp857","cp855","cp866","cp869"]},e),this._embedded=this._options.width&&this._options.embedded,this._buffer=[],this._queued=[],this._cursor=0,this._codepage="ascii",this._state={codepage:0,align:"left",bold:!1,italic:!1,underline:!1,invert:!1,width:1,height:1}}_encode(e){if(this._codepage!="auto")return B.encode(e,this._codepage);let t;t=typeof this._options.codepageMapping=="string"?Le[this._options.codepageMapping]:this._options.codepageMapping;const i=B.autoEncode(e,this._options.codepageCandidates);let s=0;for(let a=0;a<i.length;a++)s+=4+i[a].bytes.byteLength;const r=new Uint8Array(s);let n=0;for(let a=0;a<i.length;a++)r.set([27,29,116,t[i[a].codepage]],n),r.set(i[a].bytes,n+4),n+=4+i[a].bytes.byteLength,this._state.codepage=t[i[a].codepage];return r}_queue(e){e.forEach(t=>this._queued.push(t))}_flush(){if(this._embedded){let e=this._options.width-this._cursor;if(this._state.align=="left"&&this._queued.push(new Array(e).fill(32)),this._state.align=="center"){const t=e%2;e>>=1,e>0&&this._queued.push(new Array(e).fill(32)),e+t>0&&this._queued.unshift(new Array(e+t).fill(32))}this._state.align=="right"&&this._queued.unshift(new Array(e).fill(32))}this._buffer=this._buffer.concat(this._queued),this._queued=[],this._cursor=0}_wrap(e,t){if(t||this._options.wordWrap&&this._options.width){const i="-".repeat(this._cursor);return se(t||this._options.width,{lineBreak:`
`,whitespace:"all"})(i+e).substring(this._cursor).split(`
`)}return[e]}_restoreState(){this.bold(this._state.bold),this.italic(this._state.italic),this.underline(this._state.underline),this.invert(this._state.invert),this._queue([27,29,116,this._state.codepage])}_getCodepageIdentifier(e){let t;return t=typeof this._options.codepageMapping=="string"?Le[this._options.codepageMapping]:this._options.codepageMapping,t[e]}initialize(){return this._queue([27,64,24]),this._flush(),this}codepage(e){if(e==="auto")return this._codepage=e,this;if(!B.supports(e))throw new Error("Unknown codepage");let t;if(t=typeof this._options.codepageMapping=="string"?Le[this._options.codepageMapping]:this._options.codepageMapping,t[e]===void 0)throw new Error("Codepage not supported by printer");return this._codepage=e,this._state.codepage=t[e],this._queue([27,29,116,t[e]]),this}text(e,t){const i=this._wrap(e,t);for(let s=0;s<i.length;s++){const r=this._encode(i[s]);this._queue([r]),this._cursor+=i[s].length*this._state.width,this._options.width&&!this._embedded&&(this._cursor=this._cursor%this._options.width),s<i.length-1&&this.newline()}return this}newline(){return this._flush(),this._queue([10,13]),this._embedded&&this._restoreState(),this}line(e,t){return this.text(e,t),this.newline(),this}underline(e){return e===void 0&&(e=!this._state.underline),this._state.underline=e,this._queue([27,45,Number(e)]),this}italic(e){return this}bold(e){return e===void 0&&(e=!this._state.bold),this._state.bold=e,e?this._queue([27,69]):this._queue([27,70]),this}width(e){if(e===void 0&&(e=1),typeof e!="number")throw new Error("Width must be a number");if(e<1||e>6)throw new Error("Width must be between 1 and 6");return this._state.width=e,this._queue([27,105,this._state.height-1,this._state.width-1]),this}height(e){if(e===void 0&&(e=1),typeof e!="number")throw new Error("Height must be a number");if(e<1||e>6)throw new Error("Height must be between 1 and 6");return this._state.height=e,this._queue([27,105,this._state.height-1,this._state.width-1]),this}invert(e){return e===void 0&&(e=!this._state.invert),this._state.invert=e,this._queue([27,e?52:53]),this}size(e){return e=e==="smaller"?2:e==="small"?1:0,this._queue([27,30,70,e]),this}align(e){const t={left:0,center:1,right:2};if(!(e in t))throw new Error("Unknown alignment");return this._state.align=e,this._embedded||this._queue([27,29,97,t[e]]),this}table(e,t){this._cursor!=0&&this.newline();for(let i=0;i<t.length;i++){const s=[];let r=0;for(let n=0;n<e.length;n++){const a=[];if(typeof t[i][n]=="string"){const h=se(e[n].width,{lineBreak:`
`})(t[i][n]).split(`
`);for(let d=0;d<h.length;d++)e[n].align=="right"?a[d]=this._encode(h[d].padStart(e[n].width)):a[d]=this._encode(h[d].padEnd(e[n].width))}if(typeof t[i][n]=="function"){const h=new we(Object.assign({},this._options,{width:e[n].width,embedded:!0}));h._codepage=this._codepage,h.align(e[n].align),t[i][n](h);const d=h.encode();let l=[];for(let p=0;p<d.byteLength;p++)p<d.byteLength-1&&d[p]===10&&d[p+1]===13?(a.push(l),l=[],p++):l.push(d[p]);l.length&&a.push(l)}r=Math.max(r,a.length),s[n]=a}for(let n=0;n<e.length;n++)if(s[n].length<r)for(let a=s[n].length;a<r;a++){let h="top";e[n].verticalAlign!==void 0&&(h=e[n].verticalAlign),h=="bottom"?s[n].unshift(new Array(e[n].width).fill(32)):s[n].push(new Array(e[n].width).fill(32))}for(let n=0;n<r;n++){for(let a=0;a<e.length;a++)e[a].marginLeft!==void 0&&this.raw(new Array(e[a].marginLeft).fill(32)),this.raw(s[a][n]),e[a].marginRight!==void 0&&this.raw(new Array(e[a].marginRight).fill(32));this.newline()}}return this}rule(e){return e=Object.assign({style:"single",width:this._options.width||10},e||{}),this._queue([27,29,116,this._getCodepageIdentifier("cp437"),new Array(e.width).fill(e.style==="double"?205:196)]),this._queue([27,29,116,this._state.codepage]),this.newline(),this}box(e,t){let i;i=(e=Object.assign({style:"single",width:this._options.width||30,marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},e||{})).style=="double"?[201,187,200,188,205,186]:[218,191,192,217,196,179],this._cursor!=0&&this.newline(),this._restoreState(),this._queue([27,29,116,this._getCodepageIdentifier("cp437")]),this._queue([new Array(e.marginLeft).fill(32),i[0],new Array(e.width-2).fill(i[4]),i[1],new Array(e.marginRight).fill(32)]),this.newline();const s=[];if(typeof t=="string"){const r=se(e.width-2-e.paddingLeft-e.paddingRight,{lineBreak:`
`})(t).split(`
`);for(let n=0;n<r.length;n++)e.align=="right"?s[n]=this._encode(r[n].padStart(e.width-2-e.paddingLeft-e.paddingRight)):s[n]=this._encode(r[n].padEnd(e.width-2-e.paddingLeft-e.paddingRight))}if(typeof t=="function"){const r=new we(Object.assign({},this._options,{width:e.width-2-e.paddingLeft-e.paddingRight,embedded:!0}));r._codepage=this._codepage,r.align(e.align),t(r);const n=r.encode();let a=[];for(let h=0;h<n.byteLength;h++)h<n.byteLength-1&&n[h]===10&&n[h+1]===13?(s.push(a),a=[],h++):a.push(n[h]);a.length&&s.push(a)}for(let r=0;r<s.length;r++)this._queue([new Array(e.marginLeft).fill(32),i[5],new Array(e.paddingLeft).fill(32)]),this._queue([s[r]]),this._restoreState(),this._queue([27,29,116,this._getCodepageIdentifier("cp437")]),this._queue([new Array(e.paddingRight).fill(32),i[5],new Array(e.marginRight).fill(32)]),this.newline();return this._queue([new Array(e.marginLeft).fill(32),i[2],new Array(e.width-2).fill(i[4]),i[3],new Array(e.marginRight).fill(32)]),this._restoreState(),this.newline(),this}barcode(e,t,i){if(this._embedded)throw new Error("Barcodes are not supported in table cells or boxes");const s={upce:0,upca:1,ean8:2,ean13:3,code39:4,itf:5,code128:6,code93:7,"nw-7":8,"gs1-128":9,"gs1-databar-omni":10,"gs1-databar-truncated":11,"gs1-databar-limited":12,"gs1-databar-expanded":13};if(!(t in s))throw new Error("Symbology not supported by printer");{const r=B.encode(e,"ascii");this._queue([27,98,s[t],1,3,i,r,30])}return this._flush(),this}qrcode(e,t,i,s){if(this._embedded)throw new Error("QR codes are not supported in table cells or boxes");this._queue([10]);const r={1:1,2:2};if(t===void 0&&(t=2),!(t in r))throw new Error("Model must be 1 or 2");if(this._queue([27,29,121,83,48,r[t]]),i===void 0&&(i=6),typeof i!="number")throw new Error("Size must be a number");if(i<1||i>8)throw new Error("Size must be between 1 and 8");this._queue([27,29,121,83,50,i]);const n={l:0,m:1,q:2,h:3};if(s===void 0&&(s="m"),!(s in n))throw new Error("Error level must be l, m, q or h");this._queue([27,29,121,83,49,n[s]]);const a=B.encode(e,"iso88591"),h=a.length;return this._queue([27,29,121,68,49,0,h%255,h/255,a]),this._queue([27,29,121,80]),this._flush(),this}image(e,t,i,s,r){if(this._embedded)throw new Error("Images are not supported in table cells or boxes");if(t%8!=0)throw new Error("Width must be a multiple of 8");if(i%24!=0)throw new Error("Height must be a multiple of 24");s===void 0&&(s="threshold"),r===void 0&&(r=128);const n=Ue(t,i).getContext("2d");n.drawImage(e,0,0,t,i);let a=n.getImageData(0,0,t,i);switch(a=We.flatten(a,[255,255,255]),s){case"threshold":a=H.threshold(a,r);break;case"bayer":a=H.bayer(a,r);break;case"floydsteinberg":a=H.floydsteinberg(a);break;case"atkinson":a=H.atkinson(a)}const h=(d,l)=>a.data[4*(t*l+d)]>0?0:1;this._queue([27,48]);for(let d=0;d<i/24;d++){const l=24*d,p=new Uint8Array(3*t);for(let c=0;c<t;c++){const u=3*c;p[u]=h(c,l+0)<<7|h(c,l+1)<<6|h(c,l+2)<<5|h(c,l+3)<<4|h(c,l+4)<<3|h(c,l+5)<<2|h(c,l+6)<<1|h(c,l+7),p[u+1]=h(c,l+8)<<7|h(c,l+9)<<6|h(c,l+10)<<5|h(c,l+11)<<4|h(c,l+12)<<3|h(c,l+13)<<2|h(c,l+14)<<1|h(c,l+15),p[u+2]=h(c,l+16)<<7|h(c,l+17)<<6|h(c,l+18)<<5|h(c,l+19)<<4|h(c,l+20)<<3|h(c,l+21)<<2|h(c,l+22)<<1|h(c,l+23)}this._queue([27,88,255&t,t>>8&255,p,10,13])}return this._queue([27,122,1]),this._flush(),this}cut(e){if(this._embedded)throw new Error("Cut is not supported in table cells or boxes");let t=0;return e=="partial"&&(t=1),this._queue([27,100,t]),this}pulse(e,t,i){if(this._embedded)throw new Error("Pulse is not supported in table cells or boxes");return e===void 0&&(e=0),t===void 0&&(t=200),i===void 0&&(i=200),t=Math.min(127,Math.round(t/10)),i=Math.min(127,Math.round(i/10)),this._queue([27,7,255&t,255&i,e?26:7]),this}raw(e){return this._queue(e),this}encode(){this._flush();let e=0;this._buffer.forEach(s=>{typeof s=="number"?e++:e+=s.length});const t=new Uint8Array(e);let i=0;return this._buffer.forEach(s=>{typeof s=="number"?(t[i]=s,i++):(t.set(s,i),i+=s.length)}),this._reset(),t}}class Ze{constructor(e){const t={"esc-pos":fe,"star-prnt":we};if(e===void 0||e.language===void 0)throw new Error("You need to specify the language of the thermal printer");if(t[e.language]===void 0)throw new Error("Language not supported by this library");this.language=e.language;const i=t[this.language].prototype;Object.getOwnPropertyNames(i).forEach(s=>{this[s]=i[s]}),this._reset(e)}}var Ae;document.getElementById("connect").addEventListener("click",Je);document.getElementById("print").addEventListener("click",()=>{Ae?et():alert("There is no printer device connected!")});function Je(){navigator.usb.requestDevice({filters:[{vendorId:1208}]}).then(o=>{Ae=o,Xe(o)}).catch(o=>{console.error(o)})}function Xe(o){return o.open().then(()=>o.selectConfiguration(1)).then(()=>o.claimInterface(0)).catch(e=>{console.error(e)})}function et(){let e=new Ze({language:"esc-pos"}).initialize().text("This is made via USB but web!").newline().text("This is a test for the web").qrcode("https://nielsleenheer.com").newline().newline().newline().newline().cut().encode();Ae.transferOut(1,e).catch(t=>{console.error(t)})}const tt="/thermal-printer-prototype/images/bat.png";var F=new Image;F.src=tt;var G=document.createElement("canvas"),Ie=G.getContext("2d");G.width=F.width;G.height=F.height;Ie.drawImage(F,0,0);F.onload=function(){G.width=F.width,G.height=F.height,Ie.drawImage(F,0,0),console.log("Image loaded!")};document.getElementById("main").appendChild(G);document.getElementById("print-net").addEventListener("click",it);function it(){var o=new window.epson.ePOSDevice;console.log("Connecting to the printer...");var e="192.168.0.51";o.connect(e,8043,function(t){t==="OK"||t==="SSL_CONNECT_OK"?(console.log("Printer conected!"),o.createDevice("local_printer",o.DEVICE_TYPE_PRINTER,{crypto:!1,buffer:!1},function(i,s){if(s==="OK"){var r=i;console.log("Printing!"),r.addTextAlign(r.ALIGN_CENTER),r.addTextStyle(!1,!1,!0,r.COLOR_1),r.addText(`¡Im the Batman!
`),r.addTextStyle(!1,!1,!1,r.COLOR_1),r.addText(`Ticket for raising from the darkness!
`),r.addFeedLine(1),r.addSymbol("https://www.youtube.com/watch?v=HGx9ZZ9wMxc",r.SYMBOL_QRCODE_MODEL_2,r.LEVEL_L,10,10,0),r.addFeedLine(1),r.addTextStyle(!1,!1,!0,r.COLOR_1),r.addImage(Ie,0,0,G.width,G.height,r.COLOR_1,r.MODE_MONO),r.addFeedLine(1),r.addTextStyle(!1,!1,!0,r.COLOR_1),r.addText(`Why do we fall? 
`),r.addText("So we can learn to pick ourselves up."),r.addFeedLine(3),r.addCut(r.CUT_FEED),r.send(),console.log("Succesfull Printer!"),alert("Succesfull Printer!")}else console.error("Error on device creation: "+s),alert("Error on device creation: "+s)})):(console.error("Connection Error: "+t),alert("Connection error: "+t))})}
